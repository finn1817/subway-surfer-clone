import{h as p}from"./kaplay-CpR_OpMc.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function c(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=c(e);fetch(e.href,r)}})();p({width:800,height:600,background:[135,206,235],debug:!0});const i=5,l=width()/i,h=height()-100,g=400,m=1e3;let d=g;function u(t){return t=Math.max(0,Math.min(t,i-1)),t*l+l/2}loadBean();scene("game",()=>{let t=2,n=0,c=!1;for(let o=1;o<i;o++)add([rect(2,height()),pos(o*l,0),color(255,255,255),opacity(.3),"lane-marker"]);const s=add([sprite("bean"),pos(u(t),h),anchor("center"),scale(1),area(),z(10),"player"]),e=add([text("Score: 0"),pos(24,24),z(100)]);onKeyPress("left",()=>{t>0&&t--}),onKeyPress("right",()=>{t<i-1&&t++}),onKeyPress("space",()=>{r()});function r(){c||(c=!0,tween(1,1.5,.2,o=>s.scale=vec2(o),easings.easeOutQuad).then(()=>{tween(1.5,1,.2,o=>s.scale=vec2(o),easings.easeInQuad).then(()=>c=!1)}))}onUpdate(()=>{const o=u(t);s.pos.x=lerp(s.pos.x,o,dt()*15),n+=dt()*10,e.text="Score: "+Math.floor(n),d<m&&(d+=5*dt())}),loop(1,()=>{a()});function a(){const o=randi(0,i),f=rand()<.2;add([rect(l-20,40),pos(u(o),-50),anchor("center"),color(f?[255,0,0]:[255,100,0]),area(),move(DOWN,d),offscreen({destroy:!0}),"obstacle",{isBarricade:f}])}s.onCollide("obstacle",o=>{o.isBarricade&&c?shake(2):(shake(20),go("gameover",Math.floor(n)))})});scene("gameover",t=>{add([text(`GAME OVER
Score: `+t,{align:"center"}),pos(center()),anchor("center")]),add([text("Press Space to Restart",{size:24}),pos(center().x,center().y+100),anchor("center")]),onKeyPress("space",()=>go("game"))});go("game");
//# sourceMappingURL=index-BKD-4phE.js.map
